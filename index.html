<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>User Management</title>
      <link rel="stylesheet" href="./css/bootstrap.min.css">
  </head>
  <body>
    <div class="d-flex justify-content-center " style="background-image:url('./assets/bkg.jpg'); height:100vh;background-repeat:no-repeat; background-position:center;background-size:cover">
      <div class="col-lg-6" style="align-items:center">
        <div class="d-flex flex-column justify-content-center h-100">
          <input id="admin-email" type="email" class="m-2 pl-4 cred" placeholder="admin@admin.com">
          <input id="admin-password" type="password" class="m-2 pl-4 cred" placeholder="Password">
          <button id="login" class="m-2 btn btn-primary " type="submit" style="margin-top:1vh">Login</button>
        </div>
      </div>
    </div>
    <script type="text/javascript" src="./js/jquery.min.js"></script>
    <script type="text/javascript" src="./js/bootstrap.min.js"></script>    
    <script type="text/javascript" src="./libs/verify-user.js"></script>
    <script type="text/javascript" src="./libs/route-guard.js"></script>

    <script type="text/javascript">
        $(document).ready(()=>{
          $('#login').on('click',()=>{
            if($('.cred').val()== null || $('.cred').val()==""){
              alert("Login Credentials Required.")
            }
            else{	
          let credentials={
            'email':$('#admin-email').val(),
            'password':$('#admin-password').val()
          };
          if(verifyUser(credentials)){                                      //verfiying credentials
          window.localStorage['credentials']=JSON.stringify(credentials);			//maintaining session
          window.location.href='./components/all-users.html';
          }else{
            alert("Invalid Credentials.")
          }
            }
          });
        });
    </script>
  </body>

</html>
